(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{36:function(e,t,n){},76:function(e,t,n){"use strict";n.r(t);var a=n(1),c=n.n(a),s=n(18),r=n.n(s),l=(n(36),n(14)),i=n(3),o=n.n(i),u=n(5),m=n(6),d=n(9),j=n.n(d),b={ITEM:{CREATE:"/items",DELETE:"/items/:slug",READ:"/items",ROOT:"".concat("","/api"),UPDATE:"/items/:slug"}},h=n(31),x=n.n(h),p=n(0),O=function(e){var t=e.classes;return Object(p.jsx)("div",{className:"".concat(t&&"string"===typeof t?t:""," loader"),children:Object(p.jsx)(x.a,{color:"#008080"})})},f=n(7),g=n(8),v=n(10),N=n.n(v);N.a.setAppElement("#root");var E={content:{top:"50%",left:"50%",right:"auto",bottom:"auto",marginRight:"-50%",transform:"translate(-50%, -50%)"}},C=function(e){var t=e.editItemModalOpen,n=e.handleEditModalClose,a=e.itemEditing,c=e.setItemEditingName,s=e.handleEditSubmit;return Object(p.jsxs)(N.a,{isOpen:t,onRequestClose:n,style:E,contentLabel:"Editing Item",children:[Object(p.jsxs)("h2",{className:"text-center text-2xl",children:["Editing ",a&&a.name]}),Object(p.jsx)("hr",{}),Object(p.jsx)("form",{className:"pt-3 pb-5 max-w-md mx-auto",children:Object(p.jsxs)("div",{className:"md:auto",children:[Object(p.jsx)("label",{htmlFor:"name",className:"mt-2",children:"Name:"}),Object(p.jsx)("input",{minLength:3,maxLength:20,name:"name",type:"text",className:"rounded text-pink-500 ml-10",value:a?a.name:"",onChange:function(e){return c(e.target.value)}})]})}),Object(p.jsx)("hr",{className:"pt-5"}),Object(p.jsxs)("div",{children:[Object(p.jsx)("button",{className:"close-modal-btn float-left",onClick:n,children:"Close"}),Object(p.jsx)("button",{className:"float-right",onClick:s,children:Object(p.jsx)(f.a,{size:"2x",className:"check-circle-icon",icon:g.a})})]})]})};N.a.setAppElement("#root");var k={content:{width:460,top:"50%",left:"50%",right:"auto",bottom:"auto",marginRight:"-50%",transform:"translate(-50%, -50%)"}},y=function(e){var t=e.delItemModalOpen,n=e.handleDeleteModalClose,a=e.itemDeleting,c=e.handleDelSubmit,s=e.setDeleteChoice;return Object(p.jsxs)(N.a,{isOpen:t,onRequestClose:n,style:k,contentLabel:"Deleting Item",children:[Object(p.jsxs)("h2",{className:"text-center text-2xl",children:["Deleting ",a&&a.name]}),Object(p.jsx)("hr",{}),Object(p.jsx)("form",{className:"pt-3 pb-5 max-w-md mx-auto",children:Object(p.jsxs)("div",{className:"flex-auto",children:[Object(p.jsx)("label",{htmlFor:"name",className:"mt-2",children:"Are you sure you want to delete this item?"}),Object(p.jsx)("input",{onChange:function(e){return s(e.target.value)},value:"y",className:"ml-5",type:"radio",id:"yes",name:"choice"}),Object(p.jsx)("label",{htmlFor:"yes",children:"Yes"}),Object(p.jsx)("input",{onChange:function(e){return s(e.target.value)},value:"n",className:"ml-5",type:"radio",id:"no",name:"choice"}),Object(p.jsx)("label",{htmlFor:"no",children:"No"})]})}),Object(p.jsx)("hr",{className:"pt-5"}),Object(p.jsxs)("div",{children:[Object(p.jsx)("button",{className:"close-modal-btn float-left",onClick:n,children:"Close"}),Object(p.jsx)("button",{className:"float-right",onClick:Object(u.a)(o.a.mark((function e(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",c());case 1:case"end":return e.stop()}}),e)}))),children:Object(p.jsx)(f.a,{size:"2x",className:"check-circle-icon",icon:g.a})})]})]})},w=function(e){var t=e.items,n=e.setItems,c=e.broadcastChannel,s=Object(a.useState)(!1),r=Object(m.a)(s,2),i=r[0],d=r[1],h=Object(a.useState)(!1),x=Object(m.a)(h,2),O=x[0],v=x[1],N=Object(a.useState)("n"),E=Object(m.a)(N,2),k=E[0],w=E[1],I=Object(a.useState)(null),S=Object(m.a)(I,2),T=S[0],M=S[1],D=Object(a.useState)(null),R=Object(m.a)(D,2),_=R[0],F=R[1],L=function(){var e=Object(u.a)(o.a.mark((function e(){var t,a,s;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=T.name,a=T.name_slug,e.prev=1,e.next=4,j.a.patch("".concat(b.ITEM.ROOT).concat(b.ITEM.UPDATE.replace(":slug",a)),{name:t});case 4:s=e.sent,n((function(e){for(var t in e)a===e[t].name_slug&&(e[t].name_slug=s.data.name_slug,e[t].name=s.data.name);var n=Object(l.a)(e);return c.postMessage(n),n})),d(!1),M(null),e.next=17;break;case 10:return e.prev=10,e.t0=e.catch(1),console.log(e.t0),alert(JSON.stringify(e.t0.response.data)),d(!1),M(null),e.abrupt("return");case 17:case"end":return e.stop()}}),e,null,[[1,10]])})));return function(){return e.apply(this,arguments)}}(),A=function(){var e=Object(u.a)(o.a.mark((function e(){var t,a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("y"===k){e.next=4;break}return F(null),v(!1),e.abrupt("return");case 4:return t=_.name_slug,e.prev=5,e.next=8,j.a.delete("".concat(b.ITEM.ROOT).concat(b.ITEM.DELETE.replace(":slug",t)));case 8:if(200===(a=e.sent).status){e.next=14;break}return alert(JSON.stringify(a.data)),d(!1),M(null),e.abrupt("return");case 14:n((function(e){var n=e.filter((function(e){var n=e.name_slug;return t!==n}));return c.postMessage(n),n})),F(null),v(!1),e.next=26;break;case 19:return e.prev=19,e.t0=e.catch(5),console.log(e.t0),alert(JSON.stringify(e.t0.response.data)),d(!1),M(null),e.abrupt("return");case 26:case"end":return e.stop()}}),e,null,[[5,19]])})));return function(){return e.apply(this,arguments)}}();return Object(p.jsxs)("div",{id:"item-container",className:"max-w-md mx-auto bg-white rounded-xl shadow-md overflow-hidden md:max-w-2xl",children:[t.map((function(e){var t=e.name,n=e.name_slug;return Object(p.jsx)("div",{className:"p-8",children:Object(p.jsxs)("div",{className:"uppercase tracking-wide text-sm text-indigo-500 font-semibold grid grid-cols-10",children:[Object(p.jsx)("div",{className:"col-span-9",children:t}),Object(p.jsxs)("div",{className:"col-end",children:[Object(p.jsx)("button",{children:Object(p.jsx)(f.a,{size:"2x",className:"trash-alt-icon",icon:g.d,onClick:function(){return F({name:t,name_slug:n}),void v(!0)}})}),Object(p.jsx)("button",{className:"ml-2",children:Object(p.jsx)(f.a,{size:"2x",className:"pencil-alt-icon",icon:g.b,onClick:function(){return e={name:t,name_slug:n},d(!0),void M(e);var e}})})]})]})},n)})),Object(p.jsx)(C,{editItemModalOpen:i,handleEditModalClose:function(){d(!1),M(null)},itemEditing:T,setItemEditingName:function(e){M({name:e,name_slug:T.name_slug})},handleEditSubmit:L}),Object(p.jsx)(y,{delItemModalOpen:O,handleDeleteModalClose:function(){d(!1),v(null),w("n")},itemDeleting:_,handleDelSubmit:A,setDeleteChoice:w})]})},I={nameInputStyles:{border:"1px solid black"}},S=function(e){var t=e.name,n=e.setName,a=e.handleItemSubmit;return Object(p.jsx)("form",{className:"max-w-md mx-auto",children:Object(p.jsxs)("div",{className:"md:flex",children:[Object(p.jsx)("label",{htmlFor:"name",className:"mt-2",children:"Name:"}),Object(p.jsx)("input",{minLength:3,maxLength:20,name:"name",type:"text",className:"rounded text-pink-500 ml-10",onChange:function(e){return n(e.target.value)},value:t,style:I.nameInputStyles}),Object(p.jsx)("button",{className:"ml-10",onClick:function(){var e=Object(u.a)(o.a.mark((function e(t){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a(t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),children:Object(p.jsx)(f.a,{size:"2x",className:"plus-icon",icon:g.c})})]})})};var T=function(){var e=Object(a.useState)(null),t=Object(m.a)(e,2),n=t[0],c=t[1],s=Object(a.useState)(""),r=Object(m.a)(s,2),i=r[0],d=r[1],h=Object(a.useState)(!0),x=Object(m.a)(h,2),f=x[0],g=x[1],v=new BroadcastChannel("test_channel");v.onmessage=function(e){c(e.data)},Object(a.useEffect)((function(){function e(){return(e=Object(u.a)(o.a.mark((function e(){var t;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,j.a.get("".concat(b.ITEM.ROOT).concat(b.ITEM.READ));case 3:t=e.sent,c(t.data),g(!1),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]);var N=function(){var e=Object(u.a)(o.a.mark((function e(t){var n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.prev=1,e.next=4,j.a.post("".concat(b.ITEM.ROOT).concat(b.ITEM.CREATE),{name:i});case 4:n=e.sent,c((function(e){var t=[].concat(Object(l.a)(e),[n.data]);return v.postMessage(t),t})),d(""),e.next=14;break;case 9:e.prev=9,e.t0=e.catch(1),console.log(e.t0),alert(JSON.stringify(e.t0.response.data)),d("");case 14:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(t){return e.apply(this,arguments)}}();return!0===f?Object(p.jsx)(O,{}):Object(p.jsxs)(a.Fragment,{children:[Object(p.jsx)(S,{name:i,setName:d,handleItemSubmit:N}),Object(p.jsx)(w,{items:n,setItems:c,broadcastChannel:v})]})},M=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,77)).then((function(t){var n=t.getCLS,a=t.getFID,c=t.getFCP,s=t.getLCP,r=t.getTTFB;n(e),a(e),c(e),s(e),r(e)}))};r.a.render(Object(p.jsx)(c.a.StrictMode,{children:Object(p.jsx)(T,{})}),document.getElementById("root")),M((function(){}))}},[[76,1,2]]]);
//# sourceMappingURL=main.a290978d.chunk.js.map